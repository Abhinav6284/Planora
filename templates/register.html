<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Planora</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=SF+Pro+Display:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/register.css') }}">
</head>

<body>

    <main class="page-container">
        <!-- Left Partition: Branding -->
        <section class="image-section">
            <div class="branding-content">
                <header>
                    <h1><span id="typing-effect"></span></h1>
                    <h2>Learn like never before</h2>
                    <p class="subheading">Get Ready to fly like an Eagle</p>
                </header>
                <img src="{{ url_for('static', filename='images/registersection1.png') }}"
                    alt="A group of university students collaborating on a project.">
            </div>
        </section>

        <!-- Right Partition: Registration Form -->
        <section class="right-side">
            <div class="register-container">
                <header class="form-header">
                    <h2>Create Your Account</h2>
                    <p>Sign up to get started.</p>
                </header>

                <form method="post" action="/register">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="first-name">First Name</label>
                            <input type="text" id="first-name" name="first-name" required autocomplete="given-name">
                        </div>
                        <div class="form-group">
                            <label for="last-name">Last Name</label>
                            <input type="text" id="last-name" name="last-name" required autocomplete="family-name">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required autocomplete="email">
                    </div>

                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required autocomplete="new-password">
                    </div>

                    <div class="form-group">
                        <label for="confirm-password">Confirm Password</label>
                        <input type="password" id="confirm-password" name="confirm-password" required
                            autocomplete="new-password">
                    </div>

                    <div class="form-group">
                        <label for="how-heard">How did you hear about us?</label>
                        <select id="how-heard" name="how-heard">
                            <option value="" disabled selected>Select an option</option>
                            <option value="social-media">Social Media</option>
                            <option value="whatsapp">WhatsApp Groups</option>
                            <option value="referral">From a Referral</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <!-- This input field is hidden by default and appears when "Other" is selected -->
                    <div class="form-group" id="how-heard-other-group">
                        <label for="how-heard-other">Please specify</label>
                        <input type="text" id="how-heard-other" name="how-heard-other">
                    </div>

                    <div class="form-group">
                        <label for="terms" class="checkbox-label">
                            <input type="checkbox" id="terms" name="terms" required>
                            I agree to the <a href="/terms">Terms and Conditions</a>
                        </label>
                    </div>
                    
                    <button type="submit" class="submit-btn">Create Account</button>
                </form>
                <footer class="form-footer">
                    <p class="signin-prompt">
                        Already have an account? <a href="/login">Sign In</a>
                    </p>
                </footer>
            </div>
        </section>

    </main>

    <script>
        // --- Script for dropdown interaction ---
        const howHeardSelect = document.getElementById('how-heard');
        const otherGroup = document.getElementById('how-heard-other-group');

        howHeardSelect.addEventListener('change', function () {
            if (this.value === 'other') {
                otherGroup.style.display = 'block';
            } else {
                otherGroup.style.display = 'none';
            }
        });

        // --- Script for Typing Effect ---
        const typingElement = document.getElementById('typing-effect');
        // Add or change the words here
        const words = ["Join Planora Today", "Unlock Your Potential", "Plan with Precision"];
        let wordIndex = 0;
        let charIndex = 0;
        let isDeleting = false;

        function type() {
            const currentWord = words[wordIndex];

            // Type or delete a character
            let displayText = isDeleting
                ? currentWord.substring(0, charIndex - 1)
                : currentWord.substring(0, charIndex + 1);

            typingElement.textContent = displayText;
            charIndex = displayText.length;

            const typeSpeed = isDeleting ? 100 : 150;

            if (!isDeleting && charIndex === currentWord.length) {
                // Pause at the end of the word
                setTimeout(() => isDeleting = true, 2000);
            } else if (isDeleting && charIndex === 0) {
                // Move to the next word
                isDeleting = false;
                wordIndex = (wordIndex + 1) % words.length;
            }

            setTimeout(type, typeSpeed);
        }

        // Start the effect once the page loads
        document.addEventListener('DOMContentLoaded', type);
    </script>

</body>

</html>